<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comunicado</title>
    <link rel="stylesheet" type="text/css" href="../static/css/style.css">
    <style>
        main {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            background-color: white;
            padding: 20px;
            max-width: 90%;
            width: 100%;
            text-align: center;
        }

        .container p {
            background-color: #e3d1ff;
            border-radius: 5px;
            padding: 20px;
            font-weight: 600;
            font-size: 1.1rem;
            color: #555;
        }

        /* From Uiverse.io by adamgiebl */
        .cssbuttons-io-button {
            margin: 10px;
            background: #a370f0;
            color: white;
            font-family: inherit;
            padding: 0.35em;
            font-size: 17px;
            font-weight: 500;
            border-radius: 0.9em;
            border: none;
            letter-spacing: 0.05em;
            display: flex;
            align-items: center;
            box-shadow: inset 0 0 1.6em -0.6em #714da6;
            overflow: hidden;
            position: relative;
            height: 2.8em;
            cursor: pointer;
        }

        .cssbuttons-io-button .icon {
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 2.2em;
            width: 2.2em;
            border-radius: 0.7em;
            box-shadow: 0.1em 0.1em 0.6em 0.2em #7b52b9;
            transition: all 0.3s;
        }

        .left {
            padding-right: 1.2em;
            padding-left: 3.3em;
        }

        .right {
            padding-left: 1.2em;
            padding-right: 3.3em;
        }

        .left .icon {
            background: rgb(255, 130, 130);
            margin-right: 1em;
            left: 0.3em;
        }

        .right .icon {
            background: rgb(182, 255, 130);
            margin-left: 1em;
            right: 0.3em;
        }

        .cssbuttons-io-button:hover .icon {
            width: calc(100% - 0.6em);
        }

        .cssbuttons-io-button .icon svg {
            width: 1.1em;
            transition: transform 0.3s;
            color: #7b52b9;
        }

        .cssbuttons-io-button:hover .icon svg {
            transform: translateX(0.1em);
        }

        .cssbuttons-io-button:active .icon {
            transform: scale(0.95);
        }

        .btn-content {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .none {
            display: none;
        }

        @media only screen and (max-width:768px) {
            .btn-content {
                flex-direction: column;
            }

            .cssbuttons-io-button {
                width: 100%;
            }
        }

        @media only screen and (min-width:768px) {
            .btn-content {
                flex-direction: row;
            }

            .cssbuttons-io-button {
                width: auto;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="title">
            <img src="{{ url_for('static', filename='img/senai.svg')}}" alt="Logo do SENAI" width="150px">
        </div>
    </header>
    <main>
        {% if status %}
        <div class="container none">
            <p>
                Prezado(a) responsável,<br><br>
                Recebemos uma solicitação para que o(a) aluno(a) <strong>{{ status[1][0] }}</strong>
                realize uma <strong>saída antecipada</strong> da escola no dia
                <strong>{{ status[1][2] }}</strong> às <strong>{{ status[1][1] }}</strong>.<br><br>
                Por se tratar de um(a) estudante menor de idade, precisamos da sua confirmação
                para autorizar ou negar este pedido.<br><br>
                Por favor, selecione uma das opções abaixo.
            </p>
            <div class="btn-content">
                <form action="/autorizar-pelo-responsavel" method="post">
                <input type="hidden" value="1" name="cod">
                <input type="hidden" value="{{token}}" name="token">
                <button class="cssbuttons-io-button right">
                    Autorizo
                    <div class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>

                    </div>
                </button>
                </form>
                <form action="/autorizar-pelo-responsavel" method="post">
                <input type="hidden" value="3" name="cod">
                <input type="hidden" value="{{token}}" name="token">
                <button class="cssbuttons-io-button left">
                    Não autorizo
                    <div class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                        </svg>
                    </div>
                </button>
                </form>
            </div>
        </div>
        <div class="container">
            <p class="none">
                Prezado(a) responsável,<br><br>
                Esta solicitação de saída antecipada para o(a) aluno(a)
                <strong>{{ status[1][0] }}</strong> expirou.<br><br>
                O tempo limite para resposta foi excedido, e por isso não é mais possível
                autorizar ou negar este pedido por este link.<br><br>
                Caso necessário, o(a) aluno(a) deverá realizar uma nova solicitação.
            </p>
            <p class="none">
                Autorização registrada com sucesso!<br><br>
                Sua confirmação para a saída antecipada do(a) aluno(a)
                <strong>{{ status[1[0]] }}</strong> foi enviada e já está disponível no sistema da escola.<br><br>
                Agradecemos sua atenção.
            </p>
            <p class="none">
                Resposta registrada com sucesso!<br><br>
                A informação de que o(a) aluno(a) <strong>{{ status[0][1] }}</strong>
                <strong>não está autorizado(a)</strong> a sair antecipadamente já foi registrada no sistema.<br><br>
                Agradecemos sua atenção.
            </p>
            <!--
            <p class="none">
                Não foi possível registrar sua resposta.<br><br>
                O link pode ter sido utilizado anteriormente, expirado ou estar inválido.<br><br>
                Caso o problema persista, entre em contato com a secretaria da escola.
            </p>
            -->
        </div>
        {%else%}
        <div class="container">
            <p>---</p>
        </div>
        {% endif %}
    </main>
    <footer>
        <p>Escola SENAI "Luíz Massa" CPF 7.91 &COPY; Desenvolvido em 2025</p>
    </footer>
    <script>
        const cenario = '{{status[2]}}'
        const estado = '{{status[0]}}'
        const texto = document.querySelectorAll('p')
        const container = document.querySelectorAll('.container')
        if (cenario == 1) {
            container[0].classList.remove('none')
            container[1].classList.add('none')
        } else if (cenario == 3) {
            texto.forEach(e=>e.classList.add('none'))
            container[1].classList.remove('none')
            container[0].classList.add('none')
            texto[1].classList.remove('none')
        }
        if(`${estado}`.length==1){
            texto.forEach(e=>e.classList.add('none'))
        if(estado == 1) {
            container[1].classList.remove('none')
            container[0].classList.add('none')
            texto[2].classList.remove('none')
        }else if(estado == 3) {
            container[1].classList.remove('none')
            container[0].classList.add('none')
            texto[3].classList.remove('none')
        }}
    </script>
</body>

</html>